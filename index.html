<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>For Riya — A Letter</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#ffe6f0;
      --bg2:#fff0f7;
      --paper:#fffefc;
      --accent:#ff6fa3;
      --muted:#6b6b6b;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{
      background: radial-gradient(1200px 600px at 10% 10%, #fff6fb 0%, transparent 30%),
                  radial-gradient(900px 500px at 90% 90%, #fff0f8 0%, transparent 30%),
                  linear-gradient(135deg,var(--bg1),var(--bg2));
      display:flex;align-items:center;justify-content:center;padding:32px;
      overflow:hidden;
    }

    /* Floating hearts container */
    .hearts{
      position:absolute;inset:0;pointer-events:none;overflow:hidden;
    }
    .heart{
      position:absolute;left:50%;top:50%;width:32px;height:32px;transform:translate(-50%,-50%) scale(0);
      opacity:0;display:inline-block;
      animation:floatUp 7s linear infinite;
      filter:drop-shadow(0 6px 10px rgba(255,111,163,0.12));
    }
    .heart svg{width:100%;height:100%}
    @keyframes floatUp{
      0%{transform:translate(var(--x,0),var(--y,0)) scale(0.2);opacity:0}
      10%{opacity:1}
      50%{transform:translate(calc(var(--x,0) - 80px),-300px) scale(1);}
      100%{transform:translate(calc(var(--x,0) - 160px),-700px) scale(0.4);opacity:0}
    }

    /* Paper card */
    .card{
      width:100%;max-width:820px;background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.98));
      border-radius:20px;padding:44px;box-shadow:0 10px 40px rgba(14,14,20,0.12);position:relative;
      border:1px solid rgba(255,255,255,0.6);
    }

    .paper-top{
      display:flex;align-items:center;gap:12px;margin-bottom:18px
    }
    .avatar{
      width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,#ffd7ea,#ffeef9);display:flex;align-items:center;justify-content:center;font-size:20px;color:#a7005f;font-weight:700;box-shadow:0 4px 12px rgba(167,0,95,0.08)
    }
    h1{margin:0;font-size:20px;color:#3b2a3a}
    p.subtitle{margin:0;color:var(--muted);font-size:13px}

    /* letter area */
    .letter{
      background:radial-gradient(circle at 10% 10%, rgba(255,244,249,0.6), transparent 20%),var(--paper);
      border-radius:12px;padding:28px 32px;min-height:320px;position:relative;overflow:hidden;box-shadow:inset 0 -8px 30px rgba(255,111,163,0.03);
      font-size:18px;line-height:1.6;color:#3b2a3a
    }

    .typed{white-space:pre-wrap;word-break:break-word}

    /* caret */
    .caret{
      display:inline-block;width:10px;height:22px;background:linear-gradient(90deg,#ff6fa3,#ff9ab4);margin-left:4px;border-radius:2px;vertical-align:baseline;animation:blink 1s steps(2, start) infinite;
    }
    @keyframes blink{50%{opacity:0}}

    /* wink & emoji styles */
    .emoji{display:inline-block;transform-origin:center center;animation:pop .4s ease forwards}
    @keyframes pop{0%{transform:scale(0.3);opacity:0}70%{transform:scale(1.15);opacity:1}100%{transform:scale(1)}}

    /* signature */
    .signature{
      margin-top:28px;display:flex;align-items:center;gap:12px;opacity:0;transform:translateY(12px);animation:signIn 1s ease forwards 1s
    }
    .sig-name{font-family:'Great Vibes',cursive;font-size:36px;color:#d42b7b}
    .sig-role{color:var(--muted);font-size:13px}
    @keyframes signIn{to{opacity:1;transform:none}}

    /* small footer */
    .footer{margin-top:14px;color:var(--muted);font-size:12px}

    /* responsive */
    @media (max-width:520px){
      .card{padding:20px}
      .letter{font-size:16px;padding:18px}
      .sig-name{font-size:28px}
    }

    /* small sparkle */
    .sparkle{position:absolute;width:8px;height:8px;background:linear-gradient(90deg,#fff0b8,#ffdede);border-radius:50%;box-shadow:0 8px 20px rgba(255,111,163,0.18)}
    .sparkle.one{left:18%;top:10%;animation:twinkle 3s infinite}
    .sparkle.two{left:82%;top:28%;animation:twinkle 4s .5s infinite}
    @keyframes twinkle{0%{opacity:0.2;transform:scale(.6)}50%{opacity:1;transform:scale(1.1)}100%{opacity:0.2;transform:scale(.6)}}

  </style>
</head>
<body>
  <div class="hearts" id="hearts"></div>

  <div class="card" role="main">
    <div class="paper-top">
      <div class="avatar">R♥</div>
      <div>
        <h1>For Riya — a little letter</h1>
        <p class="subtitle">Open slowly. Recommended: a warm cuppa ☕</p>
      </div>
    </div>
    <div class="letter" aria-live="polite">
      <div id="typed" class="typed"></div><span id="caret" class="caret" aria-hidden="true"></span>

      <div class="signature" id="signature" aria-hidden="true">
        <div>
          <div class="sig-name">From, your forever Naman 💞</div>
          <div class="sig-role">Always yours • Distance can't change this</div>
        </div>
      </div>

      <div class="footer">P.S. Tap anywhere to speed up the typing — but maybe don't. 😉</div>
    </div>
  </div>

  <div class="sparkle one"></div>
  <div class="sparkle two"></div>

  <script>
    // ---- Config: edit these messages to personalize ----
    const segments = [
      {text: "Hey Riya,\n", pause:700},
      {text: "I was just thinking about the way you laugh —\n", pause:800, emoji:"😂"},
      {text: "...and how your smile makes my day softer, brighter, and somehow more like home. ", pause:900, emoji:"😊"},
      {text: "I miss the little things — the tiny noises you make when you're concentrating, the way you tilt your head when you don't understand a joke, and how your eyes light up when you talk about something you love.\n", pause:1200},
      {text: "Even though we're miles apart, every message from you feels like a little bridge that brings me closer. ", pause:900, emoji:"🌉"},
      {text: "I keep replaying our silly calls and imagining the next time we meet — the hugs, the food we'll share, the quiet mornings.\n", pause:1000, emoji:"🤗"},
      {text: "I promise to keep collecting moments with you — even if some are through pixels and timezones. I'll be there for the late-night talks, the random memes, the plans that never quite go as expected, and every ordinary day that becomes special because it's with you.\n", pause:1100},
      {text: "So until the next time I can finally hold you, keep this little letter in your pocket. Remember: you're loved, you're wanted, and you're my favorite person. ", pause:1000, emoji:"❤️"},
      {text: "(P.S. I'm counting days.)\n", pause:700, emoji:"📅"},
      {text: "Love always,\n", pause:700},
    ];
    // ---- End config ----

    const typedEl = document.getElementById('typed');
    const caret = document.getElementById('caret');
    const signature = document.getElementById('signature');
    const heartsContainer = document.getElementById('hearts');

    // small helper for delays
    function wait(ms) { return new Promise(r => setTimeout(r, ms)); }

    // typing engine
    async function typeSegments(){
      for(let i=0;i<segments.length;i++){
        const seg = segments[i];
        await typeText(seg.text, seg.emoji);
        await wait(seg.pause);
      }
      // small pause then show signature
      caret.style.display='none';
      signature.style.opacity = 0;
      signature.style.transform = 'translateY(18px)';
      signature.style.animation = 'signIn 1s ease forwards';
      signature.setAttribute('aria-hidden','false');

      // create a little burst of hearts
      burstHearts(12);
    }

    // type characters with realistic pauses
    async function typeText(text, maybeEmoji){
      for(let ch of text){
        // simulate human typing rhythm
        const base = 18; // ms per character
        const variance = Math.random()*40; // jitter
        const longPauseChars = ['.',',','!','?','\n'];
        typedEl.innerText += ch;
        // occasionally add small sparkle when space -> not necessary
        await wait(base + variance + (longPauseChars.includes(ch) ? 350 : 0));
      }
      if(maybeEmoji){
        // append emoji with pop animation
        const span = document.createElement('span');
        span.className='emoji';
        span.textContent = ' ' + maybeEmoji + ' ';
        typedEl.appendChild(span);
      }
      typedEl.scrollIntoView({behavior:'smooth', block:'end'});
    }

    // hearts generator
    function makeHeart(x, y, size, delay, duration){
      const el = document.createElement('div');
      el.className='heart';
      el.style.left = x + 'px';
      el.style.top = y + 'px';
      el.style.setProperty('--x', (Math.random()*200 - 100) + 'px');
      el.style.setProperty('--y', (Math.random()*40 - 20) + 'px');
      el.style.width = size + 'px';
      el.style.height = size + 'px';
      el.style.animationDuration = (duration||7) + 's';
      el.style.animationDelay = (delay||0) + 's';
      el.innerHTML = `
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 21s-7-4.35-9-7.5C-1 9.1 4.5 3 12 8c7.5-5 13 1.1 9 5.5C19 16.65 12 21 12 21z" fill="#ff6fa3" />
        </svg>
      `;
      heartsContainer.appendChild(el);
      // cleanup after animation
      setTimeout(()=>el.remove(), (duration||7)*1000 + 2000);
    }

    function burstHearts(count){
      const rect = document.body.getBoundingClientRect();
      for(let i=0;i<count;i++){
        const x = rect.width * (0.4 + Math.random()*0.2);
        const y = rect.height * (0.55 + Math.random()*0.1);
        makeHeart(x,y,16 + Math.random()*28, i*0.06, 5 + Math.random()*3);
      }
    }

    // gentle background hearts appearing periodically
    setInterval(()=>{
      const rect = document.body.getBoundingClientRect();
      const x = rect.width * Math.random();
      const y = rect.height * (0.3 + Math.random()*0.5);
      makeHeart(x,y,12 + Math.random()*22, 0, 6 + Math.random()*4);
    },1600);

    // speed-up on click
    let fast = false;
    document.addEventListener('click', ()=>{
      if(!fast){
        fast = true;
        // reduce waits by changing typeText to fast path by replacing wait
        // easiest approach: flush remaining text instantly
        const remaining = [];
        // collect remaining segments
        const typedText = typedEl.innerText;
        // compute remaining content
        // naive: stop current typing loop by setting a flag; simpler: just finish remaining segments synchronously
        // we will append rest of segments fully
        // find current progress length
        // simpler: recreate full final letter content and set it
        const full = segments.map(s=>s.text + (s.emoji? (' '+s.emoji+' '):'')).join('');
        typedEl.innerText = full;
        caret.style.display='none';
        signature.style.animation = 'signIn 1s ease forwards';
        signature.setAttribute('aria-hidden','false');
        burstHearts(16);
      }
    }, {once:false});

    // start typing after small delay for dramatic effect
    window.addEventListener('load', ()=>{
      setTimeout(()=>{typeSegments()}, 900);
    });

    // Accessibility: allow keyboard enter to speed up
    document.addEventListener('keydown', (e)=>{ if(e.key==='Enter') document.dispatchEvent(new MouseEvent('click')); });

  </script>
</body>
</html>
